<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <link rel="shortcut icon" type="image/ico" href="/src/assets/favicon.ico" />
    <title>Solid Sandbox</title>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div class="root" id="rootId"></div>
    <script src="/src/index.tsx" type="module"></script>
    <script async src="./src/opencv.js" onload=bootCv() type="text/javascript"></script>

     <script>
  
  function bootCv() {
    if (typeof cv === 'function') {
      // Factory build: cv() returns a Promise that resolves to the module
      cv().then((module) => {
        window.cv = module;
        onCvReady();
      });
    } else if (typeof cv === 'object') {
      // Global module build
      if (typeof cv.Mat === 'function') onCvReady();
      else cv.onRuntimeInitialized = onCvReady;
    }
  }
  function onCvReady() {
    // ready = true; setStatus('OpenCV loaded'); initUI();
    console.log("OpenCV loaded!");
    let mat = window.cv.matFromArray(2, 2, cv.CV_8UC1, [1, 2, 3, 4]);
    console.log (mat);
    window.dispatchEvent(new Event("opencv-ready"));
  }
</script>

  </body>
</html>
